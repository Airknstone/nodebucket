<!--------------------------------
Title: login.component.html
Author: Professor Krasso
Date: 08-20-2022
Modified By: Allan Trejo
Description: Template for login component
Code Attribution: https://material.angular.io
                  https://angular.io

-------------------------------------->
<!-- Main container -->
<div fxLayout="column">
  <!-- Video Container -->
  <div class="video-container">
    <video src="../../../assets/HarryPottertrim.mp4" autoplay onloadstart="this.volume = 0.3" loop
      id="intro-video"></video>
  </div>
  <!-- End Video Container -->

  <!-- Logo -->
  <img src="../../../assets/crest.png" width="400" />

  <!-- Begin Login Container -->
  <mat-card fxFlex class="login-container">
    <mat-card-header style="justify-content:center">
      <mat-card-title class="login-title">Employee Login</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <!-- Nested Card Layout -->
      <mat-card class="mat-elevation-z0 login-card" fxlayout="column" fxLayoutGap="10px">
        <!-- Display Error Messages Here -->
        <p-messages id="p-messages" severity="warn" [(value)]="errorMessages" [enableService]="false"></p-messages>

        <!-- Begin Form Content -->
        <form [formGroup]="loginForm" (ngSubmit)="login(); loginForm.reset()">
          <mat-card-content>
            <!-- Display Progress Indicators Here if Loading -->
            <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>

            <!-- Employee Login Input -->
            <mat-form-field appearance="fill" class="mat-form-login">
              <mat-label>Employee Id</mat-label>
              <input matInput class="mat-input-login" formControlName="empId" placeholder="Employee ID">

              <!-- Display Form fields Validation Errors -->
              <mat-error
                *ngIf="loginForm.controls['empId'].hasError('required') &&loginForm.controls['empId'].touched ">
                Employee Id Is A Required Field
              </mat-error>
              <mat-error *ngIf="loginForm.controls['empId'].hasError('pattern') &&loginForm.controls['empId'].touched ">
                Employee Id Must Be A Numerical Value
              </mat-error>
              <!-- END Validation Errors -->
            </mat-form-field>

          </mat-card-content>
          <mat-card-actions>
            <!-- Button action -->
            <button type="submit" fxFlex mat-raised-button [disabled]="!loginForm.valid" color="primary">Submit</button>
          </mat-card-actions>
        </form>
      </mat-card><!-- END Nested Card -->
    </mat-card-content>
  </mat-card>
  <!-- End login Container -->


</div>
